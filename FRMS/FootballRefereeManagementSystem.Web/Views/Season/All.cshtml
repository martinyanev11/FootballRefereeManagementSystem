@using FootballRefereeManagementSystem.Web.ViewModels.Season;
@model SeasonQueryModel
@{
    ViewData["Title"] = "Мачове";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="container">
    <div class="row justify-content-center">
        <ul class="nav nav-tabs mb-3" id="ex-with-icons" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link text-dark active" id="ex-with-icons-tab-1" data-mdb-toggle="tab" href="#ex-with-icons-tabs-1" role="tab"
                   aria-controls="ex-with-icons-tabs-1" aria-selected="true"><i class="fas fa-futbol"></i> Мачове</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link text-dark" id="ex-with-icons-tab-2" data-mdb-toggle="tab" href="#ex-with-icons-tabs-2" role="tab"
                   aria-controls="ex-with-icons-tabs-2" aria-selected="false"><i class="fas fa-star"></i> Класиране</a>
            </li>
        </ul>
    </div>
    <div class="tab-content" id="ex-with-icons-content">
        <div class="tab-pane fade show active" id="ex-with-icons-tabs-1" role="tabpanel" aria-labelledby="ex-with-icons-tab-1">
            <form method="get">
                <div class="row">
                    <div class="col-2">
                        <select asp-for="SeasonFilter" class="form-control">
                            @foreach (string seasonOption in Model.SeasonsOptions)
                            {
                                <option value="@seasonOption">@seasonOption</option>
                            }
                        </select>
                    </div>
                    <div class="col-4">
                        <select asp-for="DivisionFilter" class="form-control">
                            @foreach (string divisionOption in Model.DivisionsOptions)
                            {
                                <option value="@divisionOption">@divisionOption</option>
                            }
                        </select>
                    </div>
                    <div class="col-1">
                        <i class="fa-solid fa-arrows-rotate"></i>
                        <input type="submit" value="Промени" class="btn btn-sm btn-primary" />
                    </div>
                </div>
            </form>
            <table class="table table-bordered table-responsive table-striped">
                <tbody>
                    @foreach (var match in Model.Matches)
                    {
                        <tr>
                            <td>@($"{match.HomeTeam} ({match.HomeTeamTownName})")</td>
                            <td>@(match.FinalResult != null ? match.FinalResult : "-")</td>
                            <td>@($"{match.AwayTeam} ({match.AwayTeamTownName})")</td>
                            <td>@match.FixtureTime.ToString("MMM dd")</td>
                            <td>@match.FixtureTime.ToShortTimeString()</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="ex-with-icons-tabs-2" role="tabpanel" aria-labelledby="ex-with-icons-tab-2">
            <table>
                <thead>
                    <tr>
                        <th>Отбор</th>
                        <th>ИМ</th>
                        <th>T.</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var team in Model.Standings)
                    {
                        <tr>
                            <td>@($"{team.TeamPlacement} {team.TeamName} ({team.TeamTownName})")</td>
                            <td>@team.MatchesPlayed</td>
                            <td>@team.TeamPoints</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.9.0/mdb.min.js"></script>